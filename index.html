<!DOCTYPE html>
<html lang="en">

<head>
  <link rel="stylesheet" href="style.css">
  <title>City Voice</title>

  <script src='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.js'></script>
  <link href='https://api.mapbox.com/mapbox-gl-js/v2.2.0/mapbox-gl.css' rel='stylesheet' />
</head>

<body>

  <div id='title'>
    <h1>City Voice</h1>
  </div>

  <div id='descr1' class='text'>
    <p>

      City Voice displays the prevalence of citizen engagement throughout the
      city of Cambridge, MA. It uses publicly available information on written
      comments from individuals around the area to their city government in
      order to see where some of the most active and engaged residents tend to
      reside - and how this changes over the years.

    </p>
  </div>

  <div id='heatmap-div-div'>
    <div id='heatmap-div'><img id='heatmap' src="heatmap.gif" alt="heatmap.gif"></div>
  </div>

  <div id='descr2' class='text'>
    <p>

      We can see that throughout the past five years, much of the public
      discourse has been dominated by the south and north-west regions of the
      city, where the bulk of long-term residents live, with large "holes" near
      MIT and Harvard, where many of the more transient student populations
      live.

      <br><br>

      As the years go on, however, and the East Cambridge/Kendall Square areas
      became more developed, a much larger presence from the newly populated
      tech hubs came into the picture - especially as the community grappled
      with construction noise, under or overdevelopment, and/or resulting
      resident displacement.

      <br><br>

      This display helps to visualize how public discourse can indicate
      both entrenched long-term trends in the demographic characteristics of
      active citizens around the city as well as how neighborhood development
      can spur evolutionary change in these trends.

    </p>
  </div>

  <div id='map' class='map-large'></div>

  <div class='text series-header'>
    <p>2017</p>
  </div>
  <div id='map_2017' class='map-small'></div>
  <div class='text series-header'>
    <p>2018</p>
  </div>
  <div id='map_2018' class='map-small'></div>
  <div class='text series-header'>
    <p>2019</p>
  </div>
  <div id='map_2019' class='map-small'></div>
  <div class='text series-header'>
    <p>2020</p>
  </div>
  <div id='map_2020' class='map-small'></div>
  <div class='text series-header'>
    <p>2021</p>
  </div>
  <div id='map_2021' class='map-small'></div>

  <div id='attribution'>
    <p>
      Designed and developed by Dana Bullister, Spring 2021, IDDV Program,
      Northeastern University
    </p>
  </div>

  <script>
    mapboxgl.accessToken = 'pk.eyJ1IjoiZGJ1bGxpc3QiLCJhIjoiY2tsbzl2Z3g1MHIwejJ3cG1nbjFwOTVmdiJ9.Btd4mvqyAz7dL6WWQg0kjg';

    var map = new mapboxgl.Map({
      container: 'map', // container id
      style: 'mapbox://styles/dbullist/cko0cyn700mwg17no9e7r01g6'
    });

    map.on('load', function() {
      map.on('mousemove', function(e) {
        var tweets = map.queryRenderedFeatures(e.point, {
          layers: ['hiro_2017']
        });
      });
    });

    var map_2017 = new mapboxgl.Map({
      container: 'map_2017',
      style: 'mapbox://styles/dbullist/cko0cyn700mwg17no9e7r01g6'
    });

    map_2017.on('load', function() {
      map_2017.on('mousemove', function(e) {
        var tweets = map_2017.queryRenderedFeatures(e.point, {
          layers: ['hiro_2017']
        });
      });
    });

    var map_2018 = new mapboxgl.Map({
      container: 'map_2018',
      style: 'mapbox://styles/dbullist/cko0dijk40q4o17n1pz193q7o'
    });

    map_2018.on('load', function() {
      map_2018.on('mousemove', function(e) {
        var tweets = map_2018.queryRenderedFeatures(e.point, {
          layers: ['hiro_2017']
        });
      });
    });

    var map_2019 = new mapboxgl.Map({
      container: 'map_2019',
      style: 'mapbox://styles/dbullist/cko0ewmdw5hnj17peedvgcamv'
    });

    map_2019.on('load', function() {
      map_2019.on('mousemove', function(e) {
        var tweets = map_2019.queryRenderedFeatures(e.point, {
          layers: ['hiro_2017']
        });
      });
    });

    var map_2020 = new mapboxgl.Map({
      container: 'map_2020',
      style: 'mapbox://styles/dbullist/cko0eyxah47mm17qedprva6tm'
    });

    map_2020.on('load', function() {
      map_2020.on('mousemove', function(e) {
        var tweets = map_2020.queryRenderedFeatures(e.point, {
          layers: ['hiro_2017']
        });
      });
    });

    var map_2021 = new mapboxgl.Map({
      container: 'map_2021',
      style: 'mapbox://styles/dbullist/cko0f3dll40v917s0i578qqjr'
    });

    map_2021.on('load', function() {
      map_2021.on('mousemove', function(e) {
        var tweets = map_2021.queryRenderedFeatures(e.point, {
          layers: ['hiro_2017']
        });
      });
    });
  </script>

</body>

</html>